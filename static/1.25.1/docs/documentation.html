
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Documentation</title>
    <meta name="description" content="Janet is a functional and imperative programming language. It runs on Windows, Linux, macOS, FreeBSD and *nix.">
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="../css/docpage.css" type="text/css" media="screen" charset="utf-8">
    <link rel="shortcut icon" href="../assets/favicon.ico">

    <!-- Open Graph -->
    <meta property="og:description" content="Janet is a functional and imperative programming language. It runs on Windows, Linux, macOS, FreeBSD and *nix." />
    <meta property="og:title" content="Documentation" />
    <meta property="og:type" content="website" />
  </head>
  <body>

    <div id="toc-toggle" class="open">
      <div class="bar topbar"></div>
      <div class="bar"></div>
      <div class="bar botbar"></div>
    </div>
    <script charset="utf-8">
      function toggleToc() {
        var toggler = document.getElementById('toc-toggle');
        var wrapper = document.querySelector('.toc');
        wrapper.classList.toggle('toc-hidden');
        toggler.classList.toggle('open');
        if (window.localStorage) {
          window.localStorage.setItem('show-toc', toggler.classList.contains('open'));
        }
      }
      function addTocToggle() {
        var el = document.getElementById('toc-toggle');
        if (!window.localStorage || window.localStorage.getItem('show-toc') === 'true') {
          toggleToc()
        }
        el.addEventListener('click', toggleToc);
      }
      window.addEventListener('DOMContentLoaded', addTocToggle);
    </script>

    

    <div class="twocol">
      <div class="toc show-toc">
        <ul>
          <li><span><a href="../index.html">Home</a></span></li><li class="caret"><span><a href="index.html">Documentation</a></span><ul><li><span><a href="syntax.html">Syntax and the Parser</a></span></li><li><span><a href="specials.html">Special Forms</a></span></li><li><span><a href="numbers.html">Numbers and Arithmetic</a></span></li><li><span><a href="comparison.html">Comparison Operators</a></span></li><li><span><a href="bindings.html">Bindings (def and var)</a></span></li><li><span><a href="flow.html">Flow</a></span></li><li><span><a href="functions.html">Functions</a></span></li><li><span><a href="strings.html">Strings, Keywords, and Symbols</a></span></li><li><span><a href="loop.html">Looping</a></span></li><li><span><a href="macros.html">Macros</a></span></li><li class="caret"><span><a href="data_structures/index.html">Data Structures</a></span><ul><li><span><a href="data_structures/arrays.html">Arrays</a></span></li><li><span><a href="data_structures/buffers.html">Buffers</a></span></li><li><span><a href="data_structures/tables.html">Tables</a></span></li><li><span><a href="data_structures/structs.html">Structs</a></span></li><li><span><a href="data_structures/tuples.html">Tuples</a></span></li></ul></li><li><span><a href="destructuring.html">Destructuring</a></span></li><li class="caret"><span><a href="fibers/index.html">Fibers</a></span><ul><li><span><a href="fibers/dynamic_bindings.html">Dynamic Bindings</a></span></li><li><span><a href="fibers/error_handling.html">Errors</a></span></li></ul></li><li><span><a href="modules.html">Modules</a></span></li><li><span><a href="object_oriented.html">Object-Oriented Programming</a></span></li><li><span><a href="peg.html">Parsing Expression Grammars</a></span></li><li><span><a href="prototypes.html">Prototypes</a></span></li><li><span><a href="abstract_machine.html">The Janet Abstract Machine</a></span></li><li><span><a href="event_loop.html">The Event Loop</a></span></li><li><span><a href="threads.html">Multithreading</a></span></li><li><span><a href="networking.html">Networking</a></span></li><li><span class="selected"><a href="documentation.html">Documentation</a></span></li><li><span><a href="jpm.html">jpm</a></span></li><li><span><a href="linting.html">Linting</a></span></li><li><span><a href="ffi.html">Foreign Function Interface</a></span></li></ul></li><li class="caret"><span><a href="../api/index.html">API</a></span><ul><li><span><a href="../api/array.html">array</a></span></li><li><span><a href="../api/buffer.html">buffer</a></span></li><li><span><a href="../api/debug.html">debug</a></span></li><li><span><a href="../api/ev.html">ev</a></span></li><li><span><a href="../api/ffi.html">ffi</a></span></li><li><span><a href="../api/fiber.html">fiber</a></span></li><li><span><a href="../api/file.html">file</a></span></li><li><span><a href="../api/int.html">int</a></span></li><li class="caret"><span><a href="../api/jpm/index.html">jpm</a></span><ul><li><span><a href="../api/jpm/rules.html">rules</a></span></li><li><span><a href="../api/jpm/cc.html">cc</a></span></li><li><span><a href="../api/jpm/cgen.html">cgen</a></span></li><li><span><a href="../api/jpm/cli.html">cli</a></span></li><li><span><a href="../api/jpm/commands.html">commands</a></span></li><li><span><a href="../api/jpm/config.html">config</a></span></li><li><span><a href="../api/jpm/make-config.html">make-config</a></span></li><li><span><a href="../api/jpm/dagbuild.html">dagbuild</a></span></li><li><span><a href="../api/jpm/pm.html">pm</a></span></li><li><span><a href="../api/jpm/scaffold.html">scaffold</a></span></li><li><span><a href="../api/jpm/shutil.html">shutil</a></span></li></ul></li><li><span><a href="../api/math.html">math</a></span></li><li><span><a href="../api/module.html">module</a></span></li><li><span><a href="../api/net.html">net</a></span></li><li><span><a href="../api/os.html">os</a></span></li><li><span><a href="../api/peg.html">peg</a></span></li><li><span><a href="../api/parser.html">parser</a></span></li><li class="caret"><span><a href="../api/spork/index.html">spork</a></span><ul><li><span><a href="../api/spork/argparse.html">argparse</a></span></li><li><span><a href="../api/spork/base64.html">base64</a></span></li><li><span><a href="../api/spork/cron.html">cron</a></span></li><li><span><a href="../api/spork/ev-utils.html">ev-utils</a></span></li><li><span><a href="../api/spork/fmt.html">fmt</a></span></li><li><span><a href="../api/spork/generators.html">generators</a></span></li><li><span><a href="../api/spork/getline.html">getline</a></span></li><li><span><a href="../api/spork/http.html">http</a></span></li><li><span><a href="../api/spork/httpf.html">httpf</a></span></li><li><span><a href="../api/spork/json.html">json</a></span></li><li><span><a href="../api/spork/math.html">math</a></span></li><li><span><a href="../api/spork/misc.html">misc</a></span></li><li><span><a href="../api/spork/netrepl.html">netrepl</a></span></li><li><span><a href="../api/spork/path.html">path</a></span></li><li><span><a href="../api/spork/rawterm.html">rawterm</a></span></li><li><span><a href="../api/spork/regex.html">regex</a></span></li><li><span><a href="../api/spork/rpc.html">rpc</a></span></li><li><span><a href="../api/spork/schema.html">schema</a></span></li><li><span><a href="../api/spork/sh.html">sh</a></span></li><li><span><a href="../api/spork/msg.html">msg</a></span></li><li><span><a href="../api/spork/test.html">test</a></span></li><li><span><a href="../api/spork/tarray.html">tarray</a></span></li></ul></li><li><span><a href="../api/string.html">string</a></span></li><li><span><a href="../api/table.html">table</a></span></li><li><span><a href="../api/misc.html">misc</a></span></li><li><span><a href="../api/tuple.html">tuple</a></span></li></ul></li><li class="caret"><span><a href="../capi/index.html">C API</a></span><ul><li><span><a href="../capi/wrapping.html">Wrapping Types</a></span></li><li><span><a href="../capi/embedding.html">Embedding</a></span></li><li><span><a href="../capi/configuration.html">Configuration</a></span></li><li><span><a href="../capi/array.html">Array C API</a></span></li><li><span><a href="../capi/buffer.html">Buffer C API</a></span></li><li><span><a href="../capi/table.html">Table C API</a></span></li><li><span><a href="../capi/fiber.html">Fiber C API</a></span></li><li><span><a href="../capi/memory-model.html">Memory Model</a></span></li><li><span><a href="../capi/writing-c-functions.html">Writing C Functions</a></span></li></ul></li>
        </ul>
      </div>
      <div class="content-wrapper main-content">
        <h4 class="subtitle">Janet 1.25.1-894cd0e Documentation<br>(Other Versions:
          
          <a href="../../1.24.0/docs/documentation.html">1.24.0</a>
          
          <a href="../../1.23.0/docs/documentation.html">1.23.0</a>
          
          <a href="../../1.22.0/docs/documentation.html">1.22.0</a>
          
          <a href="../../1.21.0/docs/documentation.html">1.21.0</a>
          
          <a href="../../1.20.0/docs/documentation.html">1.20.0</a>
          
          <a href="../../1.19.0/docs/documentation.html">1.19.0</a>
          
          <a href="../../1.18.1/docs/documentation.html">1.18.1</a>
          
          <a href="../../1.17.1/docs/documentation.html">1.17.1</a>
          
          <a href="../../1.16.1/docs/documentation.html">1.16.1</a>
          
          <a href="../../1.15.0/docs/documentation.html">1.15.0</a>
          
          <a href="../../1.13.1/docs/documentation.html">1.13.1</a>
          
          <a href="../../1.12.2/docs/documentation.html">1.12.2</a>
          
          <a href="../../1.11.1/docs/documentation.html">1.11.1</a>
          
          <a href="../../1.10.1/docs/documentation.html">1.10.1</a>
          
          <a href="../../1.9.1/docs/documentation.html">1.9.1</a>
          
          <a href="../../1.8.1/docs/documentation.html">1.8.1</a>
          
          <a href="../../1.7.0/docs/documentation.html">1.7.0</a>
          
          <a href="../../1.6.0/docs/documentation.html">1.6.0</a>
          
          <a href="../../1.5.1/docs/documentation.html">1.5.1</a>
          
          <a href="../../1.5.0/docs/documentation.html">1.5.0</a>
          
          <a href="../../1.4.0/docs/documentation.html">1.4.0</a>
          
          <a href="../../1.3.1/docs/documentation.html">1.3.1</a>
          )</h4>
        <h1 class="subtitle">Documentation</h1>
        <div class="prevnext-bar">
          <span class="prev"><a href="networking.html"><span class="prevnext-text">Networking</span></a></span>

          <span class="next"><a href="jpm.html"><span class="prevnext-text">jpm</span></a></span>
        </div>
        

<p>Documenting code is an important way to communicate to users how and when to use
a particular piece of functionality.
</p>
<p>In many languages, documentation is associated with code through convention
(e.g. a comment that comes immediately before a function definition describing
the function, its parameters and the return value). In contrast, Janet includes
first-class support for documentation through the use of docstrings.
</p>
<h2 id="Detecting-Docstrings">Detecting Docstrings
</h2>
<p>A docstring is a string that Janet associates with a particular binding in an
environment. Janet detects docstrings by looking at the elements in the binding,
if a string is located at a particular position, it is used as the docstring.
</p>
<pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-coresym">defn</span> <span class="mdzsyn-symbol">my-function</span>
  <span class="mdzsyn-string">"This function adds two to the argument."</span>
  [<span class="mdzsyn-symbol">x</span>]
  (<span class="mdzsyn-coresym">+</span> <span class="mdzsyn-symbol">x</span> <span class="mdzsyn-number">2</span>))</code></pre><p>In the above example, Janet treats the string <code class="mendoza-code">"This function adds two to
the argument."</code> as the docstring. When creating the binding associated with the
symbol <code class="mendoza-code">my-function</code>, Janet will add a key <code class="mendoza-code">:doc</code> with the docstring
as its value.
</p>
<p>In the case of function and macro definitions, the string that occurs before the
tuple of arguments is used as the docstring. In other cases, the string that
occurs before the final value is used as the docstring. The string should come
after any tags (e.g. <code class="mendoza-code">:private</code>) that are associated with the binding.
</p>
<pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-coresym">def</span>
  <span class="mdzsyn-symbol">my-binding</span>       <span class="mdzsyn-comment"># the symbol used to name the binding</span>
  <span class="mdzsyn-keyword">:my-tag</span>          <span class="mdzsyn-comment"># one or more tags that are associated with the binding</span>
  <span class="mdzsyn-string">"The docstring"</span>  <span class="mdzsyn-comment"># the docstring associated with the binding</span>
  <span class="mdzsyn-number">42</span>)              <span class="mdzsyn-comment"># the value associated with the binding</span></code></pre><h2 id="Accessing-Docstrings">Accessing Docstrings
</h2>
<p>As described above, docstrings are added to a binding under the <code class="mendoza-code">:doc</code>
keyword. The docstrings can be accessed from a binding using the <code class="mendoza-code">(dyn)</code>
function and accessing the value associated with <code class="mendoza-code">:doc</code>.
</p>
<pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-coresym">defn</span> <span class="mdzsyn-symbol">my-function</span>
  <span class="mdzsyn-string">"This function adds two to the argument."</span>
  [<span class="mdzsyn-symbol">x</span>]
  (<span class="mdzsyn-coresym">+</span> <span class="mdzsyn-symbol">x</span> <span class="mdzsyn-number">2</span>))

(<span class="mdzsyn-coresym">get</span> (<span class="mdzsyn-coresym">dyn</span> '<span class="mdzsyn-symbol">my-function</span>) <span class="mdzsyn-keyword">:doc</span>)</code></pre><p>Note that when a docstring is displayed with <code class="mendoza-code">(doc)</code>, Janet adds additional
information to the docstring before displaying it. To use this modified string,
wrap the call to <code class="mendoza-code">(doc)</code> in a call to <code class="mendoza-code">(with-dyns)</code>.
</p>
<pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-coresym">def</span> <span class="mdzsyn-symbol">b</span> <span class="mdzsyn-string">@""</span>)
(<span class="mdzsyn-coresym">with-dyns</span> [<span class="mdzsyn-keyword">:out</span> <span class="mdzsyn-symbol">b</span>]
  (<span class="mdzsyn-coresym">doc</span> <span class="mdzsyn-symbol">my-function</span>))</code></pre><h2 id="Using-Long-Strings">Using Long-Strings
</h2>
<p>Janet provides two literal forms for expressing a strings: ordinary strings
(that is, a sequence of characters delimited by the double quote character,
<code class="mendoza-code">"</code>) and long-strings (that is, a sequence of characters delimited by one
or more backquote characters, <code class="mendoza-code">`</code>).
</p>
<p>While either form can be used for docstrings, long-strings have two advantages
over ordinary strings. First, new lines are preserved. This makes it simple to
write readable strings in code. Second, Janet will automatically removed
indentation (so-called "dedenting") for whitespace that appears before the
column in which the long-string began. This is best seen with an example.
</p>
<pre class="mendoza-codeblock"><code data-language="janet">(<span class="mdzsyn-coresym">defn</span> <span class="mdzsyn-symbol">my-second-function</span>
  <span class="mdzsyn-string">``This function adds three to the argument.

  Note that unlike `my-function` this function returns the value as a string.
  ``</span>
  [<span class="mdzsyn-symbol">x</span>]
  (<span class="mdzsyn-coresym">string</span> (<span class="mdzsyn-coresym">+</span> <span class="mdzsyn-number">3</span> <span class="mdzsyn-symbol">x</span>)))</code></pre><h2 id="Formatting-with-Markdown">Formatting with Markdown
</h2>
<p>Docstrings are typically read in a plaintext environment. Formatting systems
like Markdown are a natural fit for these situations.
</p>
<p>Janet's built-in documentation viewer, <code class="mendoza-code">(doc)</code>, understands a subset of
Markdown and will indent docstrings that use this subset in an intelligent way.
The subset of Markdown includes:
</p>
<ul><li>numbered and unnumbered lists</li>
    <li>codeblocks</li>
    <li>blockquotes</li></ul><p>Other Markdown-formatted text (e.g. code spans) are simply treated as ordinary
text.
</p>
<h2 id="Adding-Docstrings-to-Modules">Adding Docstrings to Modules
</h2>
<p>In addition to documenting bindings, documentation can be added to a file using
<code class="mendoza-code">(setdyn)</code>.
</p>
<pre class="mendoza-codeblock"><code data-language="janet"><span class="mdzsyn-comment"># my-module.janet</span>

(<span class="mdzsyn-coresym">setdyn</span> <span class="mdzsyn-keyword">:doc</span> <span class="mdzsyn-string">"This is the docstring for my-module"</span>)

(<span class="mdzsyn-coresym">defn</span> <span class="mdzsyn-symbol">plus-two</span> [<span class="mdzsyn-symbol">x</span>] (<span class="mdzsyn-coresym">+</span> <span class="mdzsyn-symbol">x</span> <span class="mdzsyn-number">2</span>))</code></pre><p>At the REPL, this docstring can be retrieved using the path to the module:
</p>
<pre class="mendoza-codeblock"><code>repl:1:&gt; (import ./my-module)
@{my-module/plus-two @{:private true} _ @{:value &lt;cycle 0&gt;}}
repl:2:&gt; (doc ./my-module)


    module (source)
    my-module.janet

    This is the docstring for my-module.


nil</code></pre>
        <div class="prevnext-bar">
          <span class="prev"><a href="networking.html"><span class="prevnext-text">Networking</span></a></span>
          <span class="next"><a href="jpm.html"><span class="prevnext-text">jpm</span></a></span>
        </div>
      </div>
    </div>

    
<footer>
  &copy; Calvin Rose &amp; contributors 2022
  <div class="gentag">Generated on October 29, 2022 at 20:11:09 (UTC) with Janet 1.25.1-894cd0e</div>
  <div class="see-problem">See a problem? Source
    <a href="https://github.com/janet-lang/janet-lang.org">on GitHub</a></div>
</footer>



  </body>
</html>
